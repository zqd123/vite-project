import{E as _,a as f}from"./el-button-7558b6ac.js";import{E as h,a as b}from"./el-table-column-5ecc506b.js";/* empty css                */import{a as w}from"./axios-4a70c6fc.js";import{d as x,u as v,r as E,a as C,c as g,b as i,e,w as r,o as k}from"./index-0e30bcb6.js";import"./event-dcad67ae.js";import"./focus-trap-0dfc7e4a.js";const y={class:"m-2 flex justify-end"},B=i("span",{class:"pl-1"},"导出数据",-1),j=x({__name:"admin",setup(D){const p=v(),s=E();w.get("api/get_user").then(o=>{console.log("value",o.data),s.value=o.data.data});const d=()=>{console.log("导出数据"),m(`id,姓名,第一个问题选项,第二个问题选项,用时（s）
`,s.value)},m=(o,l)=>{for(let n=0;n<l.length;n++){for(const t in l[n])o+=`${l[n][t]+"	"},`;o+=`
`}const c="data:text/csv;charset=utf-8,\uFEFF"+encodeURIComponent(o),a=document.createElement("a");a.href=c,a.download=p.userInfo.studyName??"export.csv",a.click()};return(o,l)=>{const c=C("Download"),a=f,n=_,t=b,u=h;return k(),g("div",null,[i("div",y,[e(n,{type:"primary",onClick:d},{default:r(()=>[e(a,null,{default:r(()=>[e(c)]),_:1}),B]),_:1})]),e(u,{data:s.value,style:{width:"100%"},border:!0,"max-height":"80vh"},{default:r(()=>[e(t,{prop:"id",label:"id"}),e(t,{prop:"name",label:"姓名",width:"150"}),e(t,{prop:"question1",label:"问题一选项",width:"150"}),e(t,{prop:"question2",label:"问题二选项",width:"150"}),e(t,{prop:"secondCount",label:"用时",width:"150"})]),_:1},8,["data"])])}}});export{j as default};
